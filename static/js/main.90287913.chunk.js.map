{"version":3,"sources":["paper/Bind/Bind.module.css","paper/PaperTools/PaperTools.module.css","paper/History/History.module.css","paper/utils.js","paper/tools/history.js","paper/tools/select.js","paper/index.js","paper/PaperTools/index.js","paper/History/index.js","paper/Bind/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","bind","getItems","forEach","item","a","data","type","fetch","url","then","response","json","res","value","get","sourceKey","set","destKey","onAction","action","payload","itemName","values","processAction","updateItem","paper","project","name","activeLayer","getItemsByName","match","indexOf","position","x","y","newPosition","Point","tweenTo","point","newPoint","content","excludedValues","Object","keys","filter","key","includes","undefined","addLine","path","Path","strokeColor","strokeWidth","length","start","moveTo","lineTo","add","selected","addCircle","Circle","fillColor","closed","addRect","Rectangle","addText","props","text","PointText","justification","onClick","save","exportJSON","localStorage","setItem","load","getItem","importJSON","obj","separator","properties","Array","isArray","split","reduce","prev","curr","p","shift","history","onChangeListeners","getHistory","slice","addToolSelect","tools","find","tool","Tool","minDistance","segment","hitOptions","segments","stroke","fill","tolerance","onMouseDown","event","hitResult","hitTest","modifiers","remove","location","insert","index","smooth","addChild","onMouseMove","onMouseDrag","to","delta","onMouseUp","from","subtract","push","pop","callback","Paper","memo","ref","useRef","actionQueue","useEffect","queue","current","setup","prevLayer","gridConfig","color","width","view","viewSize","height","drawLine","locked","Layer","lines","i","b","line","drawGridVerticalLines","drawGridHorizontalLines","activate","addGrid","onFrame","splice","setInterval","map","Color","random","resize","PaperTools","title","className","styles","toolButton","History","useState","setHistory","Bind","showBind","setShowBind","form","setForm","availableItems","setAvailableItems","onChange","updatedForm","target","htmlFor","actions","binding","defaultBinding","bindItem","addBinding","sort","App","isLocalhost","Boolean","window","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","document","getElementById","URL","process","href","origin","addEventListener","headers","contentType","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.90287913.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"bind\":\"Bind_bind__3PT2w\",\"actions\":\"Bind_actions__3CvtG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tools\":\"PaperTools_tools__1gGrH\",\"toolButton\":\"PaperTools_toolButton__3H_SE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"History_history__3cTjF\"};","import paper from 'paper';\n\nexport const defaultFillColor = 'rgba(0,0,0,0.87)';\nexport const defaultStrokeColor = 'rgba(0,0,0,0.87)';\n\nexport const initCanvas = (canvas) => {\n    paper.setup(canvas);\n};\n\nexport const bind = () => {\n// debugger;\n    getItems()\n        .forEach(async item => {\n\n            if (item.data.type === 'rest') {\n\n                const res = await fetch(item.data.url)\n                    .then((response) => response.json());\n\n                const value = get(res, item.data.sourceKey);\n                set(item, item.data.destKey, value);\n            }\n        });\n};\n\nexport const onAction = (action) => {\n    // console.log(\"on Action:\", action);\n\n    const { item, itemName, values } = action.payload;\n\n    const processAction = (item) => {\n        if (action.type === \"update\") {\n            updateItem(item, values);\n        }\n    };\n\n    if (itemName) {\n        paper.project.getItems({\n            name: itemName\n        }).forEach(item => {\n            processAction(item);\n        });\n    }\n\n    if (item) {\n        processAction(item);\n    }\n};\n\nexport const useTool = (name) => {\n    const tool = paper.tools.find(tool => tool.name === name)\n    tool.activate()\n}\n\nexport const getItems = () => {\n    return paper.project?.activeLayer.getItems() ?? [];\n};\n\nexport const getItemsByName = (name) => {\n    return paper.project.getItems({\n        match: (item) => (item.name || \"\").indexOf(name) === 0\n    });\n};\n\nexport const updateItem = function (item, values) {\n\n    if (values.position && item.position) {\n\n        const x = values.position.x || item.position.x;\n        const y = values.position.y || item.position.y;\n        const newPosition = new paper.Point(x, y);\n\n        item.tweenTo(\n            { 'position': newPosition },\n            300\n        );\n    }\n\n    if (values.point && item.point) {\n\n        const x = values.point.x || item.point.x;\n        const y = values.point.y || item.point.y;\n        const newPoint = new paper.Point(x, y);\n\n        item.point = newPoint;\n    }\n\n    if (values.content && item.content) {\n        item.content = values.content;\n    }\n\n    const excludedValues = [\"position\", \"point\", \"content\"];\n\n    Object.keys(values)\n        .filter(key => !excludedValues.includes(key))\n        .forEach(key => {\n\n            if (item[key] !== undefined) {\n                item.tweenTo(\n                    { [key]: values[key] },\n                    300\n                );\n            }\n        });\n\n    return item;\n};\n\nexport const addBinding = ({ itemName, item, binding }) => {\n\n    const defaultBinding = {\n        type: 'rest',\n        url: 'https://jsonplaceholder.typicode.com/todos/1',\n        sourceKey: 'title',\n        destKey: 'content'\n    };\n\n    const bindItem = (item) => {\n        item.data = {\n            ...item.data,\n            ...defaultBinding,\n            ...binding\n        };\n    };\n\n    if (itemName) {\n        paper.project.getItems({\n            name: itemName\n        })\n            .forEach(item => {\n                bindItem(item);\n            })\n    }\n\n    if (item) {\n        bindItem(item);\n    }\n};\n\nexport const addLine = () => {\n\n    const name = \"line\";\n    const path = new paper.Path();\n    path.strokeColor = defaultStrokeColor;\n    path.strokeWidth = 2;\n    path.name = name + getItemsByName(name).length;\n\n    const start = new paper.Point(100, 100);\n    path.moveTo(start);\n    path.lineTo(start.add([200, -50]));\n\n    paper.project.activeLayer.selected = false;\n    path.selected = true;\n};\n\nexport const addCircle = () => {\n\n    const name = \"circle\";\n    const path = new paper.Path.Circle(new paper.Point(100, 100), 50);\n\n    path.fillColor = defaultFillColor;\n    path.strokeColor = defaultStrokeColor;\n    path.strokeWidth = 2;\n    path.closed = true;\n    path.name = name + getItemsByName(name).length;\n\n    paper.project.activeLayer.selected = false;\n    path.selected = true;\n};\n\nexport const addRect = () => {\n\n    const name = \"rect\";\n    const path = new paper.Path.Rectangle(0, 0, 100, 100);\n\n    path.fillColor = defaultFillColor;\n    path.strokeColor = defaultStrokeColor;\n    path.strokeWidth = 2;\n    path.closed = true;\n    path.name = name + getItemsByName(name).length;\n\n    paper.project.activeLayer.selected = false;\n    path.selected = true;\n};\n\nexport const addText = (props) => {\n\n    const name = \"text\";\n    const point = props.point || new paper.Point(100, 100);\n    const content = props.content || \"Text\";\n\n    const text = new paper.PointText(point);\n    text.justification = 'center';\n    text.fillColor = 'black';\n    text.strokeWidth = 2;\n    text.content = content;\n    text.name = name + getItemsByName(name).length;\n\n    text.onClick = props.onClick;\n\n    return text;\n};\n\nexport const addGrid = () => {\n\n    var prevLayer = paper.project.activeLayer;\n\n    const gridConfig = {\n        color: 'rgba(0,0,0,0.11)',\n        width: paper.view.viewSize.width,\n        height: paper.view.viewSize.height\n    };\n\n    const drawLine = (segments) => {\n\n        const path = new paper.Path(segments);\n        path.strokeColor = 'rgba(0,0,0,0.21)';\n        path.strokeWidth = 1;\n        path.locked = true;\n\n        return path;\n    };\n\n    const drawGridVerticalLines = ({\n        color,\n        width,\n        height\n    }) => {\n\n        let lines = [];\n\n        for (var i = 0; i < width; i++) {\n\n            if (i % 10 === 0) {\n                var a = new paper.Point(i, 0);\n                var b = new paper.Point(i, height);\n                var segments = [a, b];\n                var line = drawLine(segments);\n\n                line.strokeColor = color;\n                line.strokeWidth = i % 50 === 0 ? 2 : 1;\n\n                lines.push(line);\n            }\n        }\n\n        return lines;\n    }\n\n    const drawGridHorizontalLines = ({\n        color,\n        width,\n        height\n    }) => {\n\n        let lines = [];\n\n        for (var i = 0; i < height; i++) {\n\n            if (i % 10 === 0) {\n\n                var a = new paper.Point(0, i);\n                var b = new paper.Point(width, i);\n                var segments = [a, b];\n                var line = drawLine(segments);\n\n                line.strokeColor = color;\n                line.strokeWidth = i % 50 === 0 ? 2 : 1;\n\n                lines.push(line);\n            }\n        }\n\n        return lines;\n    }\n\n    var gridLayer = new paper.Layer();\n    gridLayer.name = \"grid-layer\";\n\n    drawGridVerticalLines(gridConfig);\n    drawGridHorizontalLines(gridConfig);\n\n    prevLayer.activate();\n};\n\nexport const save = () => {\n    const json = paper.project.activeLayer.exportJSON();\n    localStorage.setItem('project', json);\n};\n\nexport const load = () => {\n    const json = localStorage.getItem('project');\n    if (json) {\n        // paper.project.clear();\n        paper.project.activeLayer.importJSON(json)\n    }\n};\n\n\nexport const get = (obj = this, path, separator = '.') => {\n    var properties = Array.isArray(path) ? path : path.split(separator)\n    return properties.reduce((prev, curr) => prev && prev[curr], obj)\n};\n\nfunction set(obj, path, value) {\n\n    if(!path) {\n        return;\n    }\n\n    if (typeof path === \"string\") {\n        path = path.split('.');\n    }\n\n    if (path.length > 1) {\n        var p = path.shift();\n        if (obj[p] == null || typeof obj[p] !== 'object') {\n            obj[p] = {};\n        }\n        set(obj[p], path, value);\n    } else {\n        obj[path[0]] = value;\n    }\n};","\nimport { onAction } from \"../utils\";\n\nconst history = [];\nconst MAX_HISTORY_LENGTH = 1000;\nconst onChangeListeners = [];\n\nexport const addToHistory = (item) => {\n    history.push(item);\n    if(history.length > MAX_HISTORY_LENGTH) {\n        history.pop();\n    }\n\n    onChangeListeners.forEach(callback => callback(getHistory()));\n}\n\nexport const getHistory = () => {\n    return history.slice();\n}\n\nexport const removeFromHistory = (item) => {\n\n    const index = history.indexOf(item);\n\n    if (index > -1) {\n        history.splice(index, 1);\n        onChangeListeners.forEach(callback => callback(history));\n    }\n}\n\nexport const revertHistory = () => {\n\n    if(history?.length === 0) {\n        return;\n    }\n\n    const record = history.pop();\n    onChangeListeners.forEach(callback => callback(getHistory()));\n    \n    if (record?.key === \"segment.point\") {\n\n        const { segment, from } = record.payload;\n\n        if (segment) {\n            onAction({\n                type: \"update\",\n                payload: {\n                    item: segment,\n                    values: {\n                        point: from\n                    }\n                }\n            });\n        }\n    }\n}\n\nexport const onHistoryChange = (callback) => {\n    onChangeListeners.push(callback);\n}","import paper from 'paper';\nimport { addToHistory } from './history';\n\nexport const addToolSelect = () => {\n\n    const name = \"toolSelect\";\n\n    if (paper.tools.find(tool => tool.name === name)) {\n        return;\n    }\n\n    var tool = new paper.Tool();\n    tool.name = name;\n    tool.minDistance = 5;\n\n    var hitOptions = {\n        segments: true,\n        stroke: true,\n        fill: true,\n        tolerance: 5\n    };\n\n    var segment, path;\n    var movePath = false;\n\n    tool.onMouseDown = function (event) {\n\n        segment = path = null;\n        var hitResult = paper.project.hitTest(event.point, hitOptions);\n\n        if (!hitResult)\n            return;\n\n        if (event.modifiers.shift) {\n            if (hitResult.type === 'segment') {\n                hitResult.segment.remove();\n            };\n            return;\n        }\n\n        path = hitResult.item;\n\n        if (hitResult.type === 'segment') {\n            segment = hitResult.segment;\n        }\n        else if (hitResult.type === 'stroke') {\n            var location = hitResult.location;\n            segment = path.insert(location.index + 1, event.point);\n            path.smooth();\n        }\n\n        movePath = hitResult.type === 'fill';\n\n        if (movePath) {\n            paper.project.activeLayer.addChild(hitResult.item);\n        }\n    };\n\n    tool.onMouseMove = (event) => {\n\n        if (event.item) {\n\n            if (event.item.name === 'button') {\n                return;\n            }\n\n            paper.project.activeLayer.selected = false;\n            event.item.selected = true;\n        }\n    };\n\n    tool.onMouseDrag = (event) => {\n\n        if (segment) {\n            const to = segment.point.add(event.delta);\n            segment.point = to;\n            // path.smooth();\n        }\n        else if (path) {\n\n            if (path.selected) {\n                path.position = path.position.add(event.delta);\n            }\n        }\n    };\n\n    tool.onMouseUp = event => {\n\n        if (segment) {\n\n            const from = event.point.subtract(event.delta);\n            const to = event.point;\n    \n            addToHistory({\n                key: 'segment.point',\n                payload: {\n                    segment,\n                    from,\n                    to\n                }\n            });\n        }\n    };\n}\n","import React, { useEffect, memo, useRef } from 'react';\nimport paper from 'paper';\nimport { addGrid, load, bind, onAction } from './utils';\nimport { addToolSelect } from './tools/select';\n\nconst Paper = memo(() => {\n\n    const ref = useRef();\n    const actionQueue = useRef([]);\n\n    useEffect(() => {\n\n        const queue = actionQueue.current;\n\n        paper.setup(ref.current);\n\n        addToolSelect();\n        addGrid();\n\n        load();\n        bind();\n\n        paper.view.onFrame = (event) => {\n            if (queue.length > 0) {\n\n                const action = queue[queue.length - 1];\n                onAction(action);\n    \n                const index = queue.indexOf(action);\n                if (index > -1) {\n                    queue.splice(index, 1);\n                }\n            }\n        }\n\n        setInterval(() => {\n            bind();\n        }, 5000);\n\n        // TODO REMOVE\n        setInterval(() => {\n\n            new Array(10)\n                .fill(null)\n                .map((action, index) => ({\n                    type: \"update\",\n                    payload: {\n                        itemName: \"rect\" + index,\n                        values: {\n                            fillColor: paper.Color.random()\n                        }\n                    }\n                }))\n                .forEach(action => {\n                    queue.push(action);\n                });\n    \n        }, 1000);\n    \n        // return () => {\n        //     clearInterval();\n        //     clearInterval();\n        // }\n    }, []);\n\n    return (\n        <canvas ref={ref} resize=\"resize\"></canvas>\n    );\n});\n\nexport default Paper;\n","import React, { memo } from 'react';\n// import paper from 'paper';\nimport { addLine, addCircle, addRect, addText, save, load } from '../utils';\n// import { revertHistory } from '../tools/history';\n\nimport styles from './PaperTools.module.css';\n\nconst PaperTools = memo(() => {\n\n    const tools = [\n        { title: \"Add Line\", onClick: addLine },\n        { title: \"Add Circle\", onClick: addCircle },\n        { title: \"Add Rect\", onClick: addRect },\n        { title: \"Add Text\", onClick: addText },\n        { title: \"Save\", onClick: save },\n        { title: \"Load\", onClick: load },\n        // { title: \"Undo\", onClick: revertHistory },\n        // { title: \"Refresh Bindings\", onClick: bind}\n     ];\n\n    return (\n        <div className={styles.tools}>\n            {tools.map((tool, index) =>\n                <button\n                    key={index}\n                    className={styles.toolButton}\n                    onClick={tool.onClick}>\n                    {tool.title}\n                </button>\n            )}\n        </div>\n    );\n});\n\nexport default PaperTools;\n","import React, { memo, useState } from \"react\";\nimport { getHistory, onHistoryChange } from \"../tools/history\";\n\nimport styles from './History.module.css';\n\nconst History = memo(() => {\n\n    const [history = [], setHistory] = useState(getHistory());\n    onHistoryChange(history => {\n        setHistory(history);\n    });\n\n    return (\n        <ul className={styles.history}>\n            {history.map((item, index) =>\n                <li key={index}>\n                    {/* {`${item.key}: x/y=${item.payload?.from.x}=>${item.payload?.to.x} y=${item.payload?.from.y}=>${item.payload?.to.y}`} */}\n                    {`${item.key}: x/y = ${item.payload?.from.x}/${item.payload?.from.y} -> ${item.payload?.to.x}/${item.payload?.to.y}`}\n                </li>\n            )}\n        </ul>\n    );\n});\n\nexport default History;\n","import React, { memo, useState } from \"react\";\n\nimport styles from './Bind.module.css';\nimport { addBinding, getItems } from \"../utils\";\n\nconst Bind = memo(() => {\n\n    const [showBind, setShowBind] = useState(false);\n    const [form, setForm] = useState({});\n    const [availableItems, setAvailableItems] = useState([]);\n\n    const onShowBind = () => {\n        setAvailableItems(getItems().sort((a, b) => (a.name > b.name) ? 1 : -1));\n        setShowBind(true);\n    };\n\n    const onCloseBind = () => {\n        setShowBind(false);\n    };\n\n    const onChange = (event) => {\n\n        const updatedForm = {\n            ...form,\n            [event.target.name]: event.target.value\n        }\n\n        setForm(updatedForm);\n    };\n\n    const onBind = () => {\n\n        addBinding({\n            item: availableItems.filter(item => item.name === form.item)[0],\n            itemName: form.itemName,\n            binding: {\n                type: 'rest',\n                ...form\n            }\n        });\n\n        setShowBind(false);\n    }\n\n    if (!showBind) {\n        return (\n            <div className={styles.bind}>\n                <button type=\"button\" onClick={onShowBind}>Bind</button>\n            </div>\n        );\n    }\n\n    return (\n        <div className={styles.bind}>\n            <label htmlFor=\"item\">Item Name</label>\n            <select name=\"item\" onChange={onChange}>\n                {availableItems.map((item, key) =>\n                    <option key={key} value={item.name}>{item.name}</option>\n                )}\n            </select>\n            <label htmlFor=\"url\">Url with JSON response</label>\n            <input type=\"text\" name=\"url\" onChange={onChange}></input>\n            <label htmlFor=\"sourceKey\">Source Key</label>\n            <input type=\"text\" name=\"sourceKey\" onChange={onChange}></input>\n            <label htmlFor=\"destKey\">Destination Key</label>\n            <input type=\"text\" name=\"destKey\" onChange={onChange}></input>\n            <div className={styles.actions}>\n                <button type=\"button\" onClick={onBind}>Bind</button>\n                <button type=\"button\" onClick={onCloseBind}>Cancel</button>\n            </div>\n        </div>\n    );\n});\n\nexport default Bind;\n","import React from 'react';\nimport Paper from './paper';\nimport PaperTools from './paper/PaperTools';\nimport History from './paper/History';\nimport Bind from './paper/Bind';\n\n// import './App.css';\n\nfunction App() {\n  return (\n    <>\n      <Paper />\n      <PaperTools />\n      <History />\n      <Bind />\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\nserviceWorker.register();\n\n// serviceWorker.register({\n//     onUpdate: () => alert(\"New content is available and will be used when all tabs for this page are closed.\"),\n//     onSuccess: () => () => {\n//         alert(\"Content is cached for offline use.\");\n\n//     }\n// });\n\n// setInterval(() => {\n\n//     navigator.serviceWorker.getRegistration()\n//         .then(registration => {\n//             registration.update();\n\n//         });\n\n// }, 3000);\n"],"sourceRoot":""}